  <!DOCTYPE html>
  <html>
    <head>
      <title>jEster Data</title>
      <%= csrf_meta_tags %>
      <%= csp_meta_tag %>
      
      <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
	  
	  
	  <script
	    src="https://code.jquery.com/jquery-3.4.1.js"
	    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
	    crossorigin="anonymous"></script>
	  
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

            <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
					


      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" />

      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

      <script src="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

<script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.10.2/umd/react-dom.production.min.js"></script>


	  
	  
	  
    </head>

    <body>
  

      <div id="main" class="container"">
          <%= render 'navigation-landing-page-redux' %>
        
        <div id="sub-page" class="container-fluid">

          <div class="row">
            <div class="col">
              <main class="container" role="main">
				  <div id="react-container">
				  			
					
				  </div>
				  <script
				    src="https://unpkg.com/react-bootstrap@next/dist/react-bootstrap.js"
				    crossorigin
				    ></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
				  
				  <script type="text/babel" data-presets="es2015, react, stage-2">
					  $(function() {
						 
						  class RailsApplicationLayoutYieldContent extends React.Component {
							  render() {
								  return <div dangerouslySetInnerHTML={{__html: $('#rails-application-layout-yield-content')[0].innerHTML }} />
							  }
						  }
						  
						  
						  class ShopItem extends React.Component {
							  render() {
								  console.log(this.props);
							  	return <ReactBootstrap.Card>
    <ReactBootstrap.Card.Img variant="top" src="holder.js/100px160" />
    <ReactBootstrap.Card.Body>
      <ReactBootstrap.Card.Title>{this.props.details.node.handle}</ReactBootstrap.Card.Title>
      <ReactBootstrap.Card.Text>
								 { this.props.details.node.description }
      </ReactBootstrap.Card.Text>
    </ReactBootstrap.Card.Body>
								 
    <ReactBootstrap.Card.Footer>
      <small className="text-muted">								  {this.props.details.node.priceRange.maxVariantPrice.amount} Â¢</small>
    </ReactBootstrap.Card.Footer>
  </ReactBootstrap.Card>
							  }
						  }
						  
						  class Shop extends React.Component {
			
							  render() {
								  console.log(this.props);
								  const shopItemComponents = this.props.shopItems.map((json) =>
									  <ShopItem details={json} />
								  );
								  
								  return <ReactBootstrap.CardColumns> { shopItemComponents } </ReactBootstrap.CardColumns>
			  
							  }
						  }

						  class LayoutComponent extends React.Component {
							  constructor() {
								  super();
								  this.state = {currentContent: 'rails-application-layout-yield-content'}
							  }
							  
							  render() {
							  
						      return <div>
							  
<ReactBootstrap.Nav variant="tabs" defaultActiveKey="/" onSelect={selectedKey => this.setState({currentContent: selectedKey})}
>
  <ReactBootstrap.Nav.Item>
    <ReactBootstrap.Nav.Link href="/">Files</ReactBootstrap.Nav.Link>
  </ReactBootstrap.Nav.Item>
  <ReactBootstrap.Nav.Item>
    <ReactBootstrap.Nav.Link eventKey="shop">Shop</ReactBootstrap.Nav.Link>
  </ReactBootstrap.Nav.Item>
  <ReactBootstrap.Nav.Item>
    <ReactBootstrap.Nav.Link eventKey="disabled" disabled>
      Custom NavBar Item #1
    </ReactBootstrap.Nav.Link>
  </ReactBootstrap.Nav.Item>
</ReactBootstrap.Nav>


							<div style={{display: this.state.currentContent === 'shop' ? 'block' : 'none'}}>


<Shop shopItems={<%= `sh #{File.join(Rails.application.root, 'test.curl')}`.html_safe %>['data']['collections']['edges'][1]['node']['products']['edges'] } />
							</div>


							<div style={{display: this.state.currentContent === 'rails-application-layout-yield-content'  ? 'block' : 'none'}}>

								<RailsApplicationLayoutYieldContent />
							</div>
						   
						      </div>
							}
						  };

							  class RootComponent extends React.Component {
							      render() {
							          return <LayoutComponent/>;
							      }
							  }


							  ReactDOM.render(
							      <RootComponent />,
							      document.getElementById('react-container')
							  );

	  					  });
					  
					  
				</script>
				  
				  <div id="rails-application-layout-yield-content" style="display: none">
                  <%= yield %>
			  </div>
	 
              </main>
            </div>
          </div>
</html>

